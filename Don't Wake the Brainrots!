-- ðŸ§  Don't Wake the Brainrots! Full GUI v3
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- GUI chÃ­nh
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "BrainrotFullGUI"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 310)
Frame.Position = UDim2.new(0.05, 0, 0.3, 0)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
Frame.Active = true
Frame.Draggable = true

Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)
local UIStroke = Instance.new("UIStroke", Frame)
UIStroke.Color = Color3.fromRGB(190, 0, 255)
UIStroke.Thickness = 2

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "ðŸ§  Don't Wake the Brainrots!"
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 200, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14

local function createButton(text, y)
	local b = Instance.new("TextButton", Frame)
	b.Size = UDim2.new(0, 170, 0, 25)
	b.Position = UDim2.new(0, 15, 0, y)
	b.BackgroundColor3 = Color3.fromRGB(55, 55, 75)
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.Font = Enum.Font.GothamBold
	b.TextSize = 12
	b.Text = text
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 6)
	return b
end

-- NÃºt
local TPButton = createButton("TP Safe Zone", 35)
local TPBrainrotButton = createButton("TP Brainrot", 65)
local AutoTPButton = createButton("Auto TP: OFF", 95)
local AutoCollectButton = createButton("Auto Collect: OFF", 125)
local AutoUpgradeButton = createButton("Auto Upgrade: OFF", 155)
local AutoPlaceButton = createButton("Auto Place Brainrot: OFF", 185)
local AutoLuckyButton = createButton("Auto Open LuckyBlock: OFF", 215)
local ESPButton = createButton("ESP Brainrot: OFF", 245)

-- Toggle GUI nhá»
local ToggleButton = Instance.new("ImageButton", ScreenGui)
ToggleButton.Size = UDim2.new(0, 35, 0, 35)
ToggleButton.Position = UDim2.new(0.02, 0, 0.28, 0)
ToggleButton.BackgroundTransparency = 1
ToggleButton.Image = "rbxassetid://18433843123"
ToggleButton.ImageColor3 = Color3.fromRGB(190, 0, 255)

local state = {
	autoTP = false,
	autoCollect = false,
	autoUpgrade = false,
	autoPlace = false,
	autoLucky = false,
	esp = false,
	guiVisible = true
}

local function setToggle(btn, key, on)
	state[key] = on
	local labels = {
		autoTP = "Auto TP",
		autoCollect = "Auto Collect",
		autoUpgrade = "Auto Upgrade",
		autoPlace = "Auto Place Brainrot",
		autoLucky = "Auto Open LuckyBlock",
		esp = "ESP Brainrot"
	}
	btn.Text = (labels[key] or key) .. ": " .. (on and "ON" or "OFF")
	btn.BackgroundColor3 = on and Color3.fromRGB(120, 0, 180) or Color3.fromRGB(55, 55, 75)
end

-- Toggle GUI
ToggleButton.MouseButton1Click:Connect(function()
	state.guiVisible = not state.guiVisible
	Frame.Visible = state.guiVisible
end)

-- Safe Zone
TPButton.MouseButton1Click:Connect(function()
	local c = LocalPlayer.Character
	if c and c:FindFirstChild("HumanoidRootPart") then
		c.HumanoidRootPart.CFrame = CFrame.new(-24, -3.487, -153.5)
	end
end)

-- TP Brainrot (chuyá»ƒn giá»¯a cÃ¡c con)
TPBrainrotButton.MouseButton1Click:Connect(function()
	local brainrots = workspace:FindFirstChild("Brainrots")
	if brainrots then
		for _, b in pairs(brainrots:GetChildren()) do
			local part = b:FindFirstChildWhichIsA("BasePart")
			if part then
				LocalPlayer.Character:WaitForChild("HumanoidRootPart").CFrame = part.CFrame + Vector3.new(0, 3, 0)
				break
			end
		end
	end
end)

AutoTPButton.MouseButton1Click:Connect(function() setToggle(AutoTPButton, "autoTP", not state.autoTP) end)
AutoCollectButton.MouseButton1Click:Connect(function() setToggle(AutoCollectButton, "autoCollect", not state.autoCollect) end)
AutoUpgradeButton.MouseButton1Click:Connect(function() setToggle(AutoUpgradeButton, "autoUpgrade", not state.autoUpgrade) end)
AutoPlaceButton.MouseButton1Click:Connect(function() setToggle(AutoPlaceButton, "autoPlace", not state.autoPlace) end)
AutoLuckyButton.MouseButton1Click:Connect(function() setToggle(AutoLuckyButton, "autoLucky", not state.autoLucky) end)
ESPButton.MouseButton1Click:Connect(function() setToggle(ESPButton, "esp", not state.esp) end)

-------------------------------------------------
-- Auto TP CandyPickups
task.spawn(function()
	while task.wait(0.1) do
		if state.autoTP then
			local char = LocalPlayer.Character
			local hrp = char and char:FindFirstChild("HumanoidRootPart")
			local folder = workspace:FindFirstChild("CandyPickups")
			if hrp and folder then
				for _, child in pairs(folder:GetChildren()) do
					for _, part in pairs(child:GetDescendants()) do
						if part:IsA("BasePart") then
							hrp.CFrame = part.CFrame + Vector3.new(0, 3, 0)
							task.wait(0.05)
						end
					end
				end
			end
		end
	end
end)

-- Auto Collect
task.spawn(function()
	while task.wait(0.05) do
		if state.autoCollect then
			for _, base in pairs(workspace:FindFirstChild("Bases"):GetChildren()) do
				for _, plat in pairs(base.Platforms:GetChildren()) do
					local collect = plat:FindFirstChild("Collect")
					if collect then
						firetouchinterest(LocalPlayer.Character.HumanoidRootPart, collect, 0)
						firetouchinterest(LocalPlayer.Character.HumanoidRootPart, collect, 1)
					end
				end
			end
		end
	end
end)

-- Auto Upgrade
task.spawn(function()
	local Remote = ReplicatedStorage.Remotes:WaitForChild("UpgradeEvent")
	local currentUpgrade = 1
	while task.wait(0.1) do
		if state.autoUpgrade then
			pcall(function()
				Remote:FireServer(currentUpgrade)
			end)
			currentUpgrade = currentUpgrade + 1
			if currentUpgrade > 50 then
				currentUpgrade = 1
			end
		end
	end
end)

-- Auto Place Brainrot
task.spawn(function()
	while task.wait(1) do
		if state.autoPlace then
			local remote = ReplicatedStorage.Remotes:FindFirstChild("PlaceBrainrotEvent")
			if remote then
				for i = 1, 50 do
					pcall(function()
						remote:InvokeServer(i)
					end)
				end
			end
		end
	end
end)

-- Auto Open LuckyBlock
task.spawn(function()
	while task.wait(1) do
		if state.autoLucky then
			local remote = ReplicatedStorage.Remotes:FindFirstChild("OpenLuckyBlock")
			if remote then
				for i = 1, 50 do
					pcall(function()
						remote:InvokeServer(i)
					end)
				end
			end
		end
	end
end)

-- ESP Brainrot
task.spawn(function()
	while task.wait(1) do
		if state.esp then
			for _, brainrot in pairs(workspace:FindFirstChild("Brainrots"):GetChildren()) do
				if not brainrot:FindFirstChild("ESP") then
					local part = brainrot:FindFirstChildWhichIsA("BasePart")
					if part then
						local billboard = Instance.new("BillboardGui", brainrot)
						billboard.Name = "ESP"
						billboard.AlwaysOnTop = true
						billboard.Size = UDim2.new(0, 200, 0, 50)
						local text = Instance.new("TextLabel", billboard)
						text.Size = UDim2.new(1, 0, 1, 0)
						text.BackgroundTransparency = 1
						text.TextColor3 = Color3.fromRGB(255, 0, 255)
						text.Font = Enum.Font.GothamBold
						text.TextScaled = true
						text.Text = brainrot.Name
					end
				end
			end
		else
			for _, b in pairs(workspace:FindFirstChild("Brainrots"):GetChildren()) do
				if b:FindFirstChild("ESP") then
					b.ESP:Destroy()
				end
			end
		end
	end
end)
