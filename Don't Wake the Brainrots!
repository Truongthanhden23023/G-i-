-- üß† Don't Wake the Brainrots! (Mini GUI)
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- GUI ch√≠nh
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BrainrotMiniGUI"
ScreenGui.Parent = game.CoreGui

-- Khung ch√≠nh
local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
Frame.Size = UDim2.new(0, 180, 0, 280)
Frame.Position = UDim2.new(0.05, 0, 0.35, 0)
Frame.Active = true
Frame.Draggable = true

-- Vi·ªÅn & bo g√≥c
local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = Frame
UIStroke.Color = Color3.fromRGB(190, 0, 255)
UIStroke.Thickness = 2

local UICorner = Instance.new("UICorner")
UICorner.Parent = Frame
UICorner.CornerRadius = UDim.new(0, 10)

-- N·ªÅn ·∫£nh decal
local BG = Instance.new("ImageLabel")
BG.Parent = Frame
BG.Size = UDim2.new(1, 0, 1, 0)
BG.BackgroundTransparency = 1
BG.ImageTransparency = 0.4
BG.Image = "rbxassetid://18433846547"
BG.ZIndex = 0

-- Ti√™u ƒë·ªÅ
local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Text = "üß† Don't Wake the Brainrots!"
Title.Size = UDim2.new(1, 0, 0, 25)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 200, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14
Title.ZIndex = 2

-- H√†m t·∫°o n√∫t
local function createButton(txt, y)
	local b = Instance.new("TextButton")
	b.Parent = Frame
	b.Size = UDim2.new(0, 160, 0, 25)
	b.Position = UDim2.new(0, 10, 0, y)
	b.BackgroundColor3 = Color3.fromRGB(55, 55, 75)
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.Font = Enum.Font.GothamBold
	b.TextSize = 12
	b.Text = txt
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 6)
	corner.Parent = b
	return b
end

-- N√∫t Toggle GUI
local ToggleButton = Instance.new("ImageButton")
ToggleButton.Parent = ScreenGui
ToggleButton.Size = UDim2.new(0, 35, 0, 35)
ToggleButton.Position = UDim2.new(0.02, 0, 0.3, 0)
ToggleButton.BackgroundTransparency = 1
ToggleButton.Image = "rbxassetid://18433843123"
ToggleButton.ImageColor3 = Color3.fromRGB(190, 0, 255)

-- N√∫t ch√≠nh
local TPButton = createButton("TP Safe Zone", 35)
local AutoTPButton = createButton("Auto TP: OFF", 65)
local AutoUpgradeButton = createButton("Auto Upgrade: OFF", 95)
local AutoBuyButton = createButton("Auto Buy Lucky: OFF", 125)
local AutoCollectButton = createButton("Auto Collect: OFF", 155)
local AutoPlaceButton = createButton("Auto Place: OFF", 185)
local AutoOpenButton = createButton("Auto Open: OFF", 215)

-- Bi·∫øn
local guiVisible = true
local toggles = {
	[AutoTPButton] = {false, "Auto TP"},
	[AutoUpgradeButton] = {false, "Auto Upgrade"},
	[AutoBuyButton] = {false, "Auto Buy Lucky"},
	[AutoCollectButton] = {false, "Auto Collect"},
	[AutoPlaceButton] = {false, "Auto Place"},
	[AutoOpenButton] = {false, "Auto Open"},
}

-- Toggle GUI
ToggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- TP Safe Zone
TPButton.MouseButton1Click:Connect(function()
	local c = LocalPlayer.Character
	if c and c:FindFirstChild("HumanoidRootPart") then
		c.HumanoidRootPart.CFrame = CFrame.new(-24, -3.48700094, -153.500031)
	end
end)

-- T·∫°o toggle ƒë√∫ng ch·ªØ
for btn, info in pairs(toggles) do
	btn.MouseButton1Click:Connect(function()
		info[1] = not info[1]
		btn.Text = info[2] .. ": " .. (info[1] and "ON" or "OFF")
		btn.BackgroundColor3 = info[1] and Color3.fromRGB(120, 0, 180) or Color3.fromRGB(55, 55, 75)
	end)
end

-- L·∫•y candy
local function getCandyParts()
	local t = {}
	local f = workspace:FindFirstChild("CandyPickups")
	if not f then return t end
	for _, a in pairs(f:GetChildren()) do
		if a:IsA("BasePart") then table.insert(t, a)
		else
			for _, b in pairs(a:GetChildren()) do
				if b:IsA("BasePart") then table.insert(t, b) end
			end
		end
	end
	return t
end

-- Auto TP
task.spawn(function()
	while task.wait(1) do
		if toggles[AutoTPButton][1] then
			local c = LocalPlayer.Character
			local hrp = c and c:FindFirstChild("HumanoidRootPart")
			if hrp then
				for _, part in pairs(getCandyParts()) do
					hrp.CFrame = part.CFrame + Vector3.new(0, 2, 0)
					task.wait(0.25)
				end
			end
		end
	end
end)

-- Auto Upgrade
task.spawn(function()
	while task.wait(0.5) do
		if toggles[AutoUpgradeButton][1] then
			pcall(function()
				ReplicatedStorage.Remotes.UpgradeEvent:FireServer(math.random(1, 999999999))
			end)
		end
	end
end)

-- Auto Buy Lucky
task.spawn(function()
	while task.wait(1) do
		if toggles[AutoBuyButton][1] then
			pcall(function()
				ReplicatedStorage.Remotes.AttemptHalloweenLuckyBlockPurchase:InvokeServer()
			end)
		end
	end
end)

-- Auto Collect
task.spawn(function()
	while task.wait(1) do
		if toggles[AutoCollectButton][1] then
			local c = LocalPlayer.Character
			local hrp = c and c:FindFirstChild("HumanoidRootPart")
			if hrp and workspace:FindFirstChild("Bases") then
				for _, base in pairs(workspace.Bases:GetChildren()) do
					local platforms = base:FindFirstChild("Platforms")
					if platforms then
						for _, p in pairs(platforms:GetChildren()) do
							local collect = p:FindFirstChild("Collect")
							if collect and collect:FindFirstChild("TouchInterest") then
								pcall(function()
									firetouchinterest(hrp, collect, 0)
									task.wait(0.05)
									firetouchinterest(hrp, collect, 1)
								end)
							end
						end
					end
				end
			end
		end
	end
end)

-- Auto Place
task.spawn(function()
	while task.wait(0.5) do
		if toggles[AutoPlaceButton][1] then
			pcall(function()
				local args = {math.random(1, 999999999)}
				ReplicatedStorage.Remotes.PlaceBrainrotEvent:InvokeServer(unpack(args))
			end)
		end
	end
end)

-- Auto Open
task.spawn(function()
	while task.wait(0.5) do
		if toggles[AutoOpenButton][1] then
			pcall(function()
				local args = {math.random(1, 999999999)}
				ReplicatedStorage.Remotes.OpenLuckyBlock:InvokeServer(unpack(args))
			end)
		end
	end
end)
