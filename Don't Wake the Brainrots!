-- üëª GUI: Don't Wake the Brainrots! üëª
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- T·∫°o GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BrainrotControlPanel"
ScreenGui.Parent = game.CoreGui

-- Khung ch√≠nh
local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
Frame.Size = UDim2.new(0, 260, 0, 340)
Frame.Position = UDim2.new(0.05, 0, 0.3, 0)
Frame.Active = true
Frame.Draggable = true -- Di chuy·ªÉn ƒë∆∞·ª£c GUI

-- Vi·ªÅn + bo g√≥c
local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = Frame
UIStroke.Thickness = 3
UIStroke.Color = Color3.fromRGB(190, 0, 255)

local UICorner = Instance.new("UICorner")
UICorner.Parent = Frame
UICorner.CornerRadius = UDim.new(0, 15)

-- Decal n·ªÅn
local BG = Instance.new("ImageLabel")
BG.Parent = Frame
BG.Size = UDim2.new(1, 0, 1, 0)
BG.Position = UDim2.new(0, 0, 0, 0)
BG.Image = "rbxassetid://18433846547" -- üéÉ B·∫°n c√≥ th·ªÉ ƒë·ªïi link n√†y sang ·∫£nh b·∫°n th√≠ch
BG.ImageTransparency = 0.25
BG.BackgroundTransparency = 1
BG.ZIndex = 0

-- Ti√™u ƒë·ªÅ
local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Text = "üß† Don't Wake the Brainrots! By Kobthg"
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 200, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.ZIndex = 2

-- T·∫°o nhanh n√∫t
local function createButton(text, y)
	local btn = Instance.new("TextButton")
	btn.Parent = Frame
	btn.Text = text
	btn.Size = UDim2.new(0, 230, 0, 35)
	btn.Position = UDim2.new(0, 15, 0, y)
	btn.BackgroundColor3 = Color3.fromRGB(55, 55, 75)
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	btn.ZIndex = 2
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = btn
	return btn
end

-- C√°c n√∫t ch√≠nh
local TPButton = createButton("TP Safe Zone", 55)
local AutoTPButton = createButton("Auto TP CandyPickups: OFF", 100)
local AutoUpgradeButton = createButton("Auto Upgrade: OFF", 145)
local AutoBuyButton = createButton("Auto Buy Lucky Block: OFF", 190)
local AutoCollectButton = createButton("Auto Collect: OFF", 235)

-- Toggle GUI
local ToggleButton = Instance.new("ImageButton")
ToggleButton.Parent = ScreenGui
ToggleButton.Size = UDim2.new(0, 50, 0, 50)
ToggleButton.Position = UDim2.new(0.02, 0, 0.25, 0)
ToggleButton.BackgroundTransparency = 1
ToggleButton.Image = "rbxassetid://18433843123" -- üß† N√∫t Toggle GUI (bi·ªÉu t∆∞·ª£ng Brainrot)
ToggleButton.ImageColor3 = Color3.fromRGB(190, 0, 255)

-- Bi·∫øn ƒëi·ªÅu khi·ªÉn
local autoTP, autoUpgrade, autoBuy, autoCollect = false, false, false, false
local guiVisible = true

-- N√∫t ·∫©n/hi·ªán GUI
ToggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- TP Safe Zone
TPButton.MouseButton1Click:Connect(function()
	local char = LocalPlayer.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		char.HumanoidRootPart.CFrame = CFrame.new(-24, -3.48700094, -153.500031)
	end
end)

-- Auto TP CandyPickups
AutoTPButton.MouseButton1Click:Connect(function()
	autoTP = not autoTP
	AutoTPButton.Text = "Auto TP CandyPickups: " .. (autoTP and "ON" or "OFF")
end)

-- Auto Upgrade
AutoUpgradeButton.MouseButton1Click:Connect(function()
	autoUpgrade = not autoUpgrade
	AutoUpgradeButton.Text = "Auto Upgrade: " .. (autoUpgrade and "ON" or "OFF")
end)

-- Auto Buy Lucky Block
AutoBuyButton.MouseButton1Click:Connect(function()
	autoBuy = not autoBuy
	AutoBuyButton.Text = "Auto Buy Lucky Block: " .. (autoBuy and "ON" or "OFF")
end)

-- Auto Collect
AutoCollectButton.MouseButton1Click:Connect(function()
	autoCollect = not autoCollect
	AutoCollectButton.Text = "Auto Collect: " .. (autoCollect and "ON" or "OFF")
end)

-- H√†m l·∫•y CandyPickups
local function getAllCandyParts()
	local parts = {}
	local folder = workspace:FindFirstChild("CandyPickups")
	if not folder then return parts end
	for _, a in pairs(folder:GetChildren()) do
		if a:IsA("BasePart") then
			table.insert(parts, a)
		else
			for _, b in pairs(a:GetChildren()) do
				if b:IsA("BasePart") then table.insert(parts, b) end
			end
		end
	end
	return parts
end

-- Auto TP
task.spawn(function()
	while task.wait(1) do
		if autoTP then
			local char = LocalPlayer.Character
			local hrp = char and char:FindFirstChild("HumanoidRootPart")
			if hrp then
				for _, part in pairs(getAllCandyParts()) do
					hrp.CFrame = part.CFrame + Vector3.new(0, 3, 0)
					task.wait(0.25)
				end
			end
		end
	end
end)

-- Auto Upgrade
task.spawn(function()
	local event = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("UpgradeEvent")
	while task.wait(0.3) do
		if autoUpgrade then
			pcall(function()
				event:FireServer(math.random(1, 9999999))
			end)
		end
	end
end)

-- Auto Buy Lucky Block
task.spawn(function()
	local event = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("AttemptHalloweenLuckyBlockPurchase")
	while task.wait(1) do
		if autoBuy then
			pcall(function() event:InvokeServer() end)
		end
	end
end)

-- Auto Collect
task.spawn(function()
	while task.wait(1) do
		if autoCollect then
			local char = LocalPlayer.Character
			local hrp = char and char:FindFirstChild("HumanoidRootPart")
			if hrp and workspace:FindFirstChild("Bases") then
				for _, base in pairs(workspace.Bases:GetChildren()) do
					for _, platform in pairs(base:FindFirstChild("Platforms"):GetChildren()) do
						local collect = platform:FindFirstChild("Collect")
						if collect and collect:FindFirstChild("TouchInterest") then
							pcall(function()
								firetouchinterest(hrp, collect, 0)
								task.wait(0.05)
								firetouchinterest(hrp, collect, 1)
							end)
						end
					end
				end
			end
		end
	end
end)
